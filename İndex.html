<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bagışla</title>
<style>
body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    font-family: 'Arial', sans-serif;
    background-color: #222;
    color: #fff;
    text-align: center;
}

.message {
    font-size: 2em;
    position: absolute;
    top: 40%;
    width: 100%;
    color: #ff69b4;
    animation: fadeInOut 3s forwards;
}

@keyframes fadeInOut {
    0% { opacity: 0; transform: scale(0.5);}
    50% { opacity: 1; transform: scale(1.2);}
    100% { opacity: 0; transform: scale(0.8);}
}

.question, .final-message {
    display: none;
    margin-top: 50px;
    padding: 20px;
}

.btn {
    padding: 10px 30px;
    font-size: 1.5em;
    margin: 20px;
    cursor: pointer;
    border: none;
    border-radius: 10px;
    transition: transform 0.2s;
    background: #ff69b4;
    color: #fff;
}

.btn:hover {
    transform: scale(1.1);
    background: #ff1493;
}

#fireworksCanvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

.heart {
    position: absolute;
    font-size: 2em;
    color: red;
    animation: floatUp 3s linear forwards;
}

@keyframes floatUp {
    0% { transform: translateY(0) scale(1);}
    100% { transform: translateY(-800px) scale(1.5);}
}

.big-heart {
    font-size: 8em;
    color: red;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
.final-text {
    font-size: 1.2em;
    line-height: 1.5;
    color: #fff;
    text-align: center;
}
</style>
</head>
<body>

<div class="message" id="introMessage">
  hərşeydən əvvəl bagışlanma dileyirem və üzr istəyirəm
</div>

<div class="question" id="questionDiv">
    <h1 style="color: #00ffff;">bagişlayırsan meni?</h1>
    <button class="btn" id="yesBtn">hə</button>
    <button class="btn" id="noBtn">yox</button>
</div>

<div class="final-message" id="finalMessage">
    <div class="final-text">
        bax bilmirem ne etmişem ne sehv etmişem bilmirem mene olan bu reftarıvı baş aça bilmirem ama bu reftarın mene yaşamı yox ölümü daddırır sene yalvarıram düzəltmək üçün nelerse edek meni bagişla meni braxma menim senden başqa heçkimim yoxdu. Senin bu reftarın hereketlerin meni çox incidir hegigeten meni öldürür ve men artıg istemirem evin künclerinde divarlarında yere yixılıb bogula bogula aglayim ölüm nefessiz qalım istemrem bu hallar yaşansın mene bunu yaşatma sene yavarıram bilmirem ne etmişem ne pisliyim deyib sma üzr istəyirəm ve hegigeten eger nese etmişemsede bilki içdən peşmanam . Aydanımm xaiş edirem meni braxma heçvaxt men sensiz qala bilmirem bunu mene yaşatma nolar senden çox üzr istəyirəm bagişla meni hell edek aramizdaki bu lenet nedirse həll edey aradan qaldırag bunu xaiş edirem. Senden çox üzr istəyirəm və bagişlanma dileyirem... Seni çoxxx seviremmm) üzr istəyirəm.
    </div>
    <button class="btn" id="forgiveBtn">bagişladım</button>
</div>

<canvas id="fireworksCanvas"></canvas>

<script>
// 1️⃣ İlk animasiya
setTimeout(() => {
    document.getElementById("introMessage").style.display = "none";
    document.getElementById("questionDiv").style.display = "block";
}, 3000);

// 2️⃣ Fireworks effekt
const canvas = document.getElementById("fireworksCanvas");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

function random(min, max) {
    return Math.random() * (max - min) + min;
}

let fireworks = [];

class Firework {
    constructor(x, y) {
        this.x = x;
        this.y = y;
        this.particles = [];
        for (let i = 0; i < 30; i++) {
            this.particles.push({
                x: this.x,
                y: this.y,
                vx: random(-5,5),
                vy: random(-5,5),
                alpha: 1,
                color: `hsl(${Math.random()*360},100%,50%)`
            });
        }
    }
    update() {
        this.particles.forEach(p => {
            p.x += p.vx;
            p.y += p.vy;
            p.alpha -= 0.02;
        });
        this.particles = this.particles.filter(p => p.alpha > 0);
    }
    draw() {
        this.particles.forEach(p => {
            ctx.fillStyle = p.color;
            ctx.globalAlpha = p.alpha;
            ctx.beginPath();
            ctx.arc(p.x, p.y, 3, 0, Math.PI*2);
            ctx.fill();
        });
        ctx.globalAlpha = 1;
    }
}

function animateFireworks() {
    ctx.fillStyle = "rgba(0,0,0,0.1)";
    ctx.fillRect(0,0,canvas.width,canvas.height);
    fireworks.forEach(fw => {
        fw.update();
        fw.draw();
    });
    fireworks = fireworks.filter(fw => fw.particles.length > 0);
    requestAnimationFrame(animateFireworks);
}

animateFireworks();

// 3️⃣ Düymə eventləri
document.getElementById("yesBtn").onclick = () => {
    document.getElementById("questionDiv").style.display = "none";
    startCelebration();
};

document.getElementById("noBtn").onclick = () => {
    document.getElementById("questionDiv").style.display = "none";
    document.getElementById("finalMessage").style.display = "block";
};

document.getElementById("forgiveBtn").onclick = () => {
    document.getElementById("finalMessage").style.display = "none";
    startCelebration();
};

// 4️⃣ Fişəng və ürək funksiyası
function startCelebration() {
    // Fişəng
    for(let i=0;i<20;i++){
        fireworks.push(new Firework(random(100,canvas.width-100), random(100,canvas.height-100)));
    }

    // Ürəklər
    setInterval(() => {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.style.left = random(0, window.innerWidth-50) + "px";
        heart.innerText = "❤️";
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(),3000);
    }, 300);

    // Hərəkətli mesajlar
    const messages = ["seniiii çoxxx seviremmm","yaxşıkiii varımsannn"];
    setInterval(() => {
        const msg = document.createElement("div");
        msg.style.position="absolute";
        msg.style.color="pink";
        msg.style.fontSize = random(20,40)+"px";
        msg.style.left = random(0, window.innerWidth-100)+"px";
        msg.style.top = random(0, window.innerHeight-100)+"px";
        msg.innerText = messages[Math.floor(Math.random()*messages.length)];
        document.body.appendChild(msg);
        setTimeout(()=>msg.remove(),3000);
    }, 500);

    // Böyük ürək
    setTimeout(() => {
        const bigHeart = document.createElement("div");
        bigHeart.className="big-heart";
        bigHeart.innerHTML = "❤️ 0101 ❤️";
        document.body.appendChild(bigHeart);
    }, 3000);
}
</script>
</body>
</html>
