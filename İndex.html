<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bagışla</title>
<style>
body {
    margin: 0;
    padding: 0;
    font-family: 'Arial', sans-serif;
    background-color: #111; /* Qaranlıq fon */
    color: #fff; /* Yazılar ağ rəngdə */
    text-align: center;
    overflow-x: hidden;
}

/* Başlanğıc mesaj */
.message {
    font-size: 2em;
    position: absolute;
    top: 40%;
    width: 100%;
    color: #fff;
    animation: fadeInOut 3s forwards;
}

@keyframes fadeInOut {
    0% { opacity: 0; transform: scale(0.5);}
    50% { opacity: 1; transform: scale(1.2);}
    100% { opacity: 0; transform: scale(0.8);}
}

/* Sual və final mesaj */
.question, .final-message {
    display: none;
    margin-top: 50px;
    padding: 20px;
}

/* Düymələr */
.btn {
    padding: 12px 30px;
    font-size: 1.4em;
    margin: 15px;
    cursor: pointer;
    border: none;
    border-radius: 12px;
    transition: transform 0.2s;
    background: #d32f2f;
    color: #fff;
}

.btn:hover {
    transform: scale(1.1);
    background: #e53935;
}

/* Fişəng canvas */
#fireworksCanvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
}

/* Ürəklər */
.heart {
    position: absolute;
    font-size: 2em;
    color: #ff4081;
    animation: floatUp 4s linear forwards;
    z-index: 2;
}

@keyframes floatUp {
    0% { transform: translateY(0) scale(1);}
    100% { transform: translateY(-900px) scale(1.5);}
}

/* Böyük ürək */
.big-heart {
    font-size: 8em;
    color: #ff1744;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 3;
}

/* Uzun mesaj scrollable */
.final-text {
    font-size: 1.1em;
    line-height: 1.6;
    color: #fff;
    background: #222;
    border-radius: 10px;
    padding: 15px;
    max-height: 60vh;
    overflow-y: auto;
    text-align: left;
    margin: 0 auto;
    width: 90%;
}
</style>
</head>
<body>

<!-- Başlanğıc mesaj -->
<div class="message" id="introMessage">
  hərşeydən əvvəl bagışlanma dileyirem və üzr istəyirəm
</div>

<!-- Sual -->
<div class="question" id="questionDiv">
    <h1 style="color: #fff;">bagişlayırsan meni?</h1>
    <button class="btn" id="yesBtn">hə</button>
    <button class="btn" id="noBtn">yox</button>
</div>

<!-- Uzun üzr mesajı -->
<div class="final-message" id="finalMessage">
    <div class="final-text">
        bax bilmirem ne etmişem ne sehv etmişem bilmirem mene olan bu reftarıvı baş aça bilmirem ama bu reftarın mene yaşamı yox ölümü daddırır sene yalvarıram düzəltmək üçün nelerse edek meni bagişla meni braxma menim senden başqa heçkimim yoxdu. Senin bu reftarın hereketlerin meni çox incidir hegigeten meni öldürür ve men artıg istemirem evin künclerinde divarlarında yere yixılıb bogula bogula aglayim ölüm nefessiz qalım istemrem bu hallar yaşansın mene bunu yaşatma sene yavarıram bilmirem ne etmişem ne pisliyim deyib sma üzr istəyirəm ve hegigeten eger nese etmişemsede bilki içdən peşmanam . Aydanımm xaiş edirem meni braxma heçvaxt men sensiz qala bilmirem bunu mene yaşatma nolar senden çox üzr istəyirəm bagişla meni hell edek aramizdaki bu lenet nedirse həll edey aradan qaldırag bunu xaiş edirem. Senden çox üzr istəyirəm və bagişlanma dileyirem... Seni çoxxx seviremmm) üzr istəyirəm.
    </div>
    <button class="btn" id="forgiveBtn">bagişladım</button>
</div>

<canvas id="fireworksCanvas"></canvas>

<script>
// 1️⃣ İlk animasiya
setTimeout(() => {
    document.getElementById("introMessage").style.display = "none";
    document.getElementById("questionDiv").style.display = "block";
}, 3000);

// 2️⃣ Fireworks effekt
const canvas = document.getElementById("fireworksCanvas");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

function random(min, max) {
    return Math.random() * (max - min) + min;
}

let fireworks = [];

class Firework {
    constructor(x, y) {
        this.x = x;
        this.y = y;
        this.particles = [];
        for (let i = 0; i < 50; i++) { // Fişəng sayını artırdım
            this.particles.push({
                x: this.x,
                y: this.y,
                vx: random(-6,6),
                vy: random(-6,6),
                alpha: 1,
                color: `hsl(${Math.random()*360},100%,50%)`
            });
        }
    }
    update() {
        this.particles.forEach(p => {
            p.x += p.vx;
            p.y += p.vy;
            p.alpha -= 0.02;
        });
        this.particles = this.particles.filter(p => p.alpha > 0);
    }
    draw() {
        this.particles.forEach(p => {
            ctx.fillStyle = p.color;
            ctx.globalAlpha = p.alpha;
            ctx.beginPath();
            ctx.arc(p.x, p.y, 4, 0, Math.PI*2);
            ctx.fill();
        });
        ctx.globalAlpha = 1;
    }
}

function animateFireworks() {
    ctx.fillStyle = "rgba(17,17,17,0.2)"; // qaranlıq fonun effekti
    ctx.fillRect(0,0,canvas.width,canvas.height);
    fireworks.forEach(fw => {
        fw.update();
        fw.draw();
    });
    fireworks = fireworks.filter(fw => fw.particles.length > 0);
    requestAnimationFrame(animateFireworks);
}

animateFireworks();

// 3️⃣ Düymə eventləri
document.getElementById("yesBtn").onclick = () => {
    document.getElementById("questionDiv").style.display = "none";
    startCelebration();
};

document.getElementById("noBtn").onclick = () => {
    document.getElementById("questionDiv").style.display = "none";
    document.getElementById("finalMessage").style.display = "block";
};

document.getElementById("forgiveBtn").onclick = () => {
    document.getElementById("finalMessage").style.display = "none";
    startCelebration();
};

// 4️⃣ Fişəng və ürək funksiyası
function startCelebration() {
    // Fişəng
    for(let i=0;i<30;i++){ // Daha çox fişəng
        fireworks.push(new Firework(random(100,canvas.width-100), random(100,canvas.height-100)));
    }

    // Ürəklər
    setInterval(() => {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.style.left = random(0, window.innerWidth-50) + "px";
        heart.style.fontSize = random(24,50)+"px"; // Hər ürək fərqli ölçüdə
        heart.innerText = "❤️";
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(),4000);
    }, 200);

    // Hərəkətli mesajlar
    const messages = ["seniiii çoxxx seviremmm","yaxşıkiii varımsannn"];
    setInterval(() => {
        const msg = document.createElement("div");
        msg.style.position="absolute";
        msg.style.color="#ff4081";
        msg.style.fontWeight="bold";
        msg.style.fontSize = random(18,36)+"px";
        msg.style.left = random(0, window.innerWidth-100)+"px";
        msg.style.top = random(0, window.innerHeight-100)+"px";
        msg.innerText = messages[Math.floor(Math.random()*messages.length)];
        document.body.appendChild(msg);
        setTimeout(()=>msg.remove(),3000);
    }, 400);

    // Böyük ürək
    setTimeout(() => {
        const bigHeart = document.createElement("div");
        bigHeart.className="big-heart";
        bigHeart.innerHTML = "❤️ 0101 ❤️";
        document.body.appendChild(bigHeart);
    }, 3000);
}
</script>
</body>
</html>
